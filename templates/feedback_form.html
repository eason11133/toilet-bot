<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <title>{{ toilet_name }} 廁所回饋表單</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background:#f9f9f9; color:#333; }
        h2 { color:#2C3E50; }
        form { background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,.1); max-width:640px; margin-top:20px; }
        label { display:block; margin-top:15px; font-weight:bold; }
        input[type="text"], select, textarea { width:100%; padding:8px; margin-top:5px; border:1px solid #ccc; border-radius:5px; }
        textarea { resize: vertical; }
        .hint { color:#777; font-size:14px; margin-top:4px; }
        button { margin-top:20px; background:#3498db; color:#fff; padding:10px 20px; border:none; border-radius:6px; cursor:pointer; }
        button:hover { background:#2980b9; }
    </style>
</head>
<body>
    <h2>{{ toilet_name }}</h2>
    <p>{{ address or "（無地址，使用座標）" }}</p>

    <!-- 帶座標（由 app.py 的 Flex 連結 querystring 注入） -->
    <form action="{{ url_for('submit_feedback') }}" method="POST">
        <input type="hidden" name="name" value="{{ toilet_name }}">
        <input type="hidden" name="address" value="{{ address or '' }}">
        <input type="hidden" name="lat" value="{{ request.args.get('lat') }}">
        <input type="hidden" name="lon" value="{{ request.args.get('lon') }}">

        <label for="rating">清潔度評分</label>
        <select name="rating" required>
            <option value="">請選擇</option>
            {% for i in range(1,11) %}
            <option value="{{ i }}">{{ i }}</option>
            {% endfor %}
        </select>

        <label for="toilet_paper">是否有衛生紙</label>
        <select name="toilet_paper" required>
            <option value="">請選擇</option>
            <option value="有">有</option>
            <option value="沒有">沒有</option>
            <option value="沒注意">沒注意</option>
        </select>

        <label for="accessibility">是否有無障礙設施</label>
        <select name="accessibility" required>
            <option value="">請選擇</option>
            <option value="有">有</option>
            <option value="沒有">沒有</option>
            <option value="沒注意">沒注意</option>
        </select>

        <label for="time_of_use">使用時間（選填）</label>
        <select name="time_of_use">
            <option value="">請選擇</option>
            <option value="上午">上午</option>
            <option value="下午">下午</option>
            <option value="傍晚">傍晚</option>
            <option value="晚間">晚間</option>
        </select>

        <label for="comment">留言（選填）</label>
        <textarea name="comment" rows="4" placeholder="可以分享你的感想或建議..."></textarea>

        <div class="hint">＊本表單會連同座標（lat/lon）寫入 Google Sheets，做為唯一識別。</div>
        <button type="submit">送出回饋</button>
    </form>
</body>
</html>
